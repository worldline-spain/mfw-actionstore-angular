<a href="https://github.com/worldline-spain/mfw-actionstore-angular/edit/master/src/mfw-business-action.store.js" class="improve-docs"><i class="icon-edit"> </i>Improve this doc</a><a href="https://github.com/worldline-spain/mfw-actionstore-angular/blob/b0295e6/src/mfw-business-action.store.js#L217" class="view-source"><i class="icon-eye-open"> </i>View source</a><h1><code ng:non-bindable="">$mfwActionStore</code>
<div><span class="hint">service in module <code ng:non-bindable="">mfw.business.actionstore</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-page"><p>This service takes care of all promises lifecycle and offers an API to ask for their status,
as well as notifying status changes via flux events:</p>
<ul>
<li><a href="#/api/mfw.business.actionstore.service:$mfwActionStore#events"><code>mfw:Action.&lt;actionId&gt;.&lt;status&gt;</code></a>: events by action, useful to take care of an specific action status changes.</li>
<li><a href="#/api/mfw.business.actionstore.service:$mfwActionStore#events"><code>mfw:Action.&lt;status&gt;.&lt;actionId&gt;</code></a>: events by status, useful for loggers and error handlers.</li>
</ul>
<p>Were <code>&lt;actionId&gt;</code> should be replaced by the action identifier associated to the created action. See
<a href="#/api/mfw.business.actionstore.service:$mfwActionStore#methods_actionid"><code>$mfwActionStore.actionId()</code></a> for more information.</p>
<p>And <code>&lt;status&gt;</code> takes one of the following values:</p>
<ul>
<li><code>running</code>: action starts running</li>
<li><code>finished</code>: action finished successfully</li>
<li><code>error</code>: action finished with error (with additional error information)</li>
</ul>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="#/api/ng.$log">$log</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><a href="https://github.com/worldline-spain/mfw-actionstore-angular/blob/b0295e6/src/mfw-business-action.store.js#L355" class="view-source icon-eye-open"> </a><h3 id="methods_actionid">actionId(promise)</h3>
<div class="actionid"><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-actionid-page"><p>This method returns the action identifier associated to the action promise.</p>
</div><h5 id="methods_actionid_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>promise</td><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-actionid-page"><p>The promise wrapping the action.</p>
</div></td></tr></tbody></table><h5 id="methods_actionid_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-actionid-page"><p>Action identifier.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/worldline-spain/mfw-actionstore-angular/blob/b0295e6/src/mfw-business-action.store.js#L377" class="view-source icon-eye-open"> </a><h3 id="methods_allevents">allEvents(promise)</h3>
<div class="allevents"><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-allevents-page"><p>This method returns the event identifier to be used in <code>$scope.$listenTo</code> method
to be noticed for all action events.</p>
<p>If a promise is specified, will return the <em>all event&#39;s</em> key for that action, otherwise the identifier
for all action events.</p>
<p>Returned event identifiers:</p>
<ul>
<li><code>mfw:Action.*.*</code>: all events of all actions and status.</li>
<li><code>mfw:Action.&lt;actionId&gt;.*</code>: all events of a specific action.</li>
</ul>
</div><h5 id="methods_allevents_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>promise <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-allevents-page"><p>The promise wrapping the action, if any.</p>
</div></td></tr></tbody></table><h5 id="methods_allevents_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-allevents-page"><p>Event identifier.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/worldline-spain/mfw-actionstore-angular/blob/b0295e6/src/mfw-business-action.store.js#L429" class="view-source icon-eye-open"> </a><h3 id="methods_errorevent">errorEvent(promise)</h3>
<div class="errorevent"><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-errorevent-page"><p>This method returns the event identifier to be used in <code>$scope.$listenTo</code> method
to be noticed for error action event.</p>
<p>If a promise is specified, will return the error event for that action, otherwise the identifier
for all actions&#39; error event.</p>
<p>Returned event identifiers:</p>
<ul>
<li><code>mfw:Action.error.*</code>: all error events of all actions and status.</li>
<li><code>mfw:Action.&lt;actionId&gt;.error</code>: error event of a specific action.</li>
</ul>
</div><h5 id="methods_errorevent_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>promise</td><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-errorevent-page"><p>The promise wrapping the action.</p>
</div></td></tr></tbody></table><h5 id="methods_errorevent_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-errorevent-page"><p>Event identifier.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/worldline-spain/mfw-actionstore-angular/blob/b0295e6/src/mfw-business-action.store.js#L403" class="view-source icon-eye-open"> </a><h3 id="methods_finishevent">finishEvent(promise)</h3>
<div class="finishevent"><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-finishevent-page"><p>This method returns the event identifier to be used in <code>$scope.$listenTo</code> method
to be noticed for finish action event.</p>
<p>If a promise is specified, will return the error event for that action, otherwise the identifier
for all actions&#39; error event.</p>
<p>Returned event identifiers:</p>
<ul>
<li><code>mfw:Action.finished.*</code>: all finished events of all actions and status.</li>
<li><code>mfw:Action.&lt;actionId&gt;.finished</code>: finished event of a specific action.</li>
</ul>
</div><h5 id="methods_finishevent_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>promise <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-finishevent-page"><p>The promise wrapping the action, if any.</p>
</div></td></tr></tbody></table><h5 id="methods_finishevent_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-finishevent-page"><p>Event identifier.</p>
</div></td></tr></table></div>
</li>
<li><a href="https://github.com/worldline-spain/mfw-actionstore-angular/blob/b0295e6/src/mfw-business-action.store.js#L342" class="view-source icon-eye-open"> </a><h3 id="methods_getaction">getAction(promise)</h3>
<div class="getaction"><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-getaction-page"><p>This method returns the associated <code>MfwAction</code> instance associated to the action promise.</p>
</div><h5 id="methods_getaction_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>promise</td><td><a href="" class="label type-hint type-hint-promise">Promise</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-getaction-page"><p>The promise wrapping the action.</p>
</div></td></tr></tbody></table><h5 id="methods_getaction_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-mfwaction">MfwAction</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-getaction-page"><p>Specified action.</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
<div class="member event"><h2 id="events">Events</h2>
<ul class="events"><li><h3 id="events_mfwaction">mfw:Action.&lt;actionId&gt;.&lt;status&gt;</h3>
<div class="mfwaction"><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-mfw-action-actionid-status--page"><p>Event triggered when an action is updated at any status step.</p>
</div><div class="inline"><h4 id="events_mfwaction_type">Type:</h4>
<div class="type">broadcast</div>
</div>
<div class="inline"><h4 id="events_mfwaction_target">Target:</h4>
<div class="target">$mfwActionStore</div>
</div>
<h5 id="events_mfwaction_target_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>action</td><td><a href="" class="label type-hint type-hint-mfwaction">MfwAction</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-mfw-action-actionid-status--page"><p>Updated action.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="events_mfwaction">mfw:Action.&lt;status&gt;.&lt;actionId&gt;</h3>
<div class="mfwaction"><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-mfw-action-status-actionid--page"><p>Event triggered when an action is updated at a specific status step.</p>
</div><div class="inline"><h4 id="events_mfwaction_type">Type:</h4>
<div class="type">broadcast</div>
</div>
<div class="inline"><h4 id="events_mfwaction_target">Target:</h4>
<div class="target">$mfwActionStore</div>
</div>
<h5 id="events_mfwaction_target_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>action</td><td><a href="" class="label type-hint type-hint-mfwaction">MfwAction</a></td><td><div class="mfw-business-actionstore-service-page mfw-business-actionstore-service--mfwactionstore-mfw-action-status-actionid--page"><p>Updated action.</p>
</div></td></tr></tbody></table></div>
</li>
</ul>
</div>
</div>
